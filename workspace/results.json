{
  "problem_statement": "Alice and Bob are back at their favorite restaurant: Nim Sum Dim Sum.\nThey are sitting on opposite sides of a long table, with Alice on the left. Between them are \nN\nN plates (expressed as a string \nS\n1..\nN\nS \n1..N\n\u200b\n ), each containing either Almond Jelly ('A') or BBQ Bao ('B').\nAlice is hungry only for almond jelly, and Bob only for BBQ baos. They take turns eating as follows:\nAlice will select an almond jelly plate of her choice, and pull on the very long tablecloth until that plate is in front of her, sending the prefix of dishes before crashing to the ground. She'll then eat the jelly.\nBob will then select a BBQ bao plate of his choice, and pull on the tablecloth until that plate reaches the right end of the table (also knocking over a suffix of dishes), and eat the bao.\nThis repeats until every dish is either eaten or knocked to the ground.\nIf on a player's turn there are no remaining dishes of their preferred type, they will skip their turn without doing anything.\nIf each player wants nothing more than the satisfaction of eating the last remaining dish on table, and both choose which dish to eat based on that, who will eat the final dish?\nConstraints\n1\n\u2264\nT\n\u2264\n95\n1\u2264T\u226495\n1\n\u2264\nN\n\u2264\n600\n,\n000\n1\u2264N\u2264600,000\nS\n1..\nN\n\u2208\n{\nS \n1..N\n\u200b\n \u2208{'A', 'B'\n}\n}\nInput Format\nInput begins with a single integer \nT\nT, the number of test cases. For each test case, the first line contains an integer \nN\nN and the second line contains the string \nS\nS.\nOutput Format\nFor the \ni\ni-th test case, print \"Case #i: \", followed by Alice\" if Alice eats the final dish, or \"Bob\" if Bob eats the final dish.\nSample Explanation\nIn the first test case,  the table initially looks like:\n[Alice]ABBAAAB[Bob]\nOne way Alice can win is by pulling the table cloth three spaces towards her, knocking the ABB plates onto the ground, and eating from the fourth plate, leaving:\n[Alice]_AAB---[Bob]\nBob must then pull the tablecloth back and eat the only remaining bao, leaving the following:\n[Alice]---_AA_[Bob]\nAlice can then pull the tablecloth, knocking over one empty plate, and eat the first remaining almond jelly, leaving:\n[Alice]_A_----[Bob]\nThere are no remaining baos, so Bob skips his turn without taking an action.\n[Alice]_A_----[Bob]\nAlice can pull the tablecloth, knock over one more empty plate, eat the only remaining dish, and win the game.\nIn the third test case, Alice must skip her first turn, and Bob will win the game after eating the only bao.\nIn the fourth test case, Alice must eat the first almond jelly on her first turn, and then Bob will win on his first turn after eating the remaining bao.\nSample Input\n6\n7\nABBAAAB\n1\nA\n1\nB\n2\nAB\n6\nAAAAAA\n7\nBBBBBBA\nSample Output\nCase #1: Alice\nCase #2: Alice\nCase #3: Bob\nCase #4: Bob\nCase #5: Alice\nCase #6: Alice",
  "test_input": "5\n1\nA\n1\nB\n2\nAB\n3\nAAB\n5\nBBBBB",
  "test_output": "Case #1: Alice\nCase #2: Bob\nCase #3: Bob\nCase #4: Alice\nCase #5: Bob\n",
  "brute_force_code": "def solve():\n    N = int(input())\n    S = input()\n\n    a_count = S.count('A')\n    b_count = S.count('B')\n\n    if a_count == 0:\n        return \"Bob\"\n    if b_count == 0:\n        return \"Alice\"\n\n    first_a_idx = S.find('A')\n    last_b_idx = S.rfind('B')\n\n    if first_a_idx > last_b_idx:\n        return \"Alice\"\n    \n    return \"Bob\" if (a_count + b_count) % 2 == 0 else \"Alice\"\n\n\nT = int(input())\nfor i in range(1, T + 1):\n    result = solve()\n    print(f\"Case #{i}: {result}\")",
  "optimal_attempts": [
    {
      "attempt_number": 1,
      "timestamp": 1762539118.035211,
      "code": "def solve():\n    N = int(input())\n    S = input()\n\n    alice_score = 0\n    bob_score = 0\n\n    # Find the leftmost 'A' and rightmost 'B'\n    first_A = -1\n    for i in range(N):\n        if S[i] == 'A':\n            first_A = i\n            break\n    \n    last_B = -1\n    for i in range(N - 1, -1, -1):\n        if S[i] == 'B':\n            last_B = i\n            break\n\n    # If no 'A's, Alice skips, Bob wins if there are 'B's.\n    if first_A == -1:\n        return \"Bob\" if last_B != -1 else \"Alice\" # If no 'B's either, Alice skips, Bob skips, no one eats. But N>=1, so one must exist.\n    \n    # If no 'B's, Bob skips, Alice wins if there are 'A's.\n    if last_B == -1:\n        return \"Alice\"\n\n    # The game effectively plays on the segment between the leftmost 'A' and rightmost 'B'.\n    # Alice can eat any 'A' at index k, leaving S[k+1:]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "verdict": "Wrong Answer",
      "error_message": null,
      "execution_success": true,
      "output_match": false,
      "output_diff": "Outputs differ:\nExpected:\nCase #1: Alice\nCase #2: Bob\nCase #3: Bob\nCase #4: Alice\nCase #5: Bob\n\nActual:\n\n"
    },
    {
      "attempt_number": 2,
      "timestamp": 1762539673.699914,
      "code": "def solve():\n    N = int(input())\n    S = input()\n\n    count_A = S.count('A')\n    count_B = S.count('B')\n\n    if count_A == 0:\n        return \"Bob\"\n    if count_B == 0:\n        return \"Alice\"\n\n    # Find the first 'A' from the left and the last 'B' from the right.\n    # These are the \"critical\" plates that define the contested region.\n    first_A_idx = -1\n    for i in range(N):\n        if S[i] == 'A':\n            first_A_idx = i\n            break\n    \n    last_B_idx = -1\n    for i in range(N - 1, -1, -1):\n        if S[i] == 'B':\n            last_B_idx = i\n            break\n\n    # If all 'A's are to the right of all 'B's, Alice can always pick an 'A'\n    # that is to the right of all 'B's, effectively making Bob skip.\n    # Example: BBBBAAA. Alice picks any A, say S[4]. String becomes S[5:]. No B's left. Alice wins.\n    if first_A_idx > last_B_idx:\n        return \"Alice\"\n    \n    \n    distance = last_B_idx - first_A_idx\n    if distance % 2 == 0:\n        return \"Alice\"\n    else:\n        return \"Bob\"\n\nT = int(input())\nfor i in range(1, T + 1):\n    print(f\"Case #{i}: {solve()}\")",
      "verdict": "Accepted",
      "error_message": null,
      "execution_success": true,
      "output_match": true,
      "output_diff": null
    }
  ],
  "success": true,
  "total_attempts": 2
}